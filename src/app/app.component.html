<header class="custom-navbar">
  <a href="#" class="logo"><i class="ri-verified-badge-line"></i><span>EVALUACIÓN</span></a>
  <ul class="navbar">
    <li><a href="#" class="active">INICIO</a></li>
    <li><a href="https://ejemplomt1.netlify.app/">EJEMPLO 1</a></li>
    <li><a href="https://ejemplomt2.netlify.app/">EJEMPLO 2</a></li>
    <li><a href="https://ejemplomt3.netlify.app/">EJEMPLO 3</a></li>
    <li><a href="https://ejemplomt4.netlify.app/">EJEMPLO 4</a></li>
    <li><a href="https://ejemplomt5.netlify.app/">EJEMPLO 5</a></li>
    <li><a href="https://ejerciciomt.netlify.app/">EJERCICIO</a></li>
  </ul>
  <div class="main">
    <div class="bx bx-menu" id="menu-icon"></div>
  </div>
</header>

<main>
  <div style="margin: 20px;">
    <h1>Registro de Opinión del Cliente (Formularios Reactivos)</h1>

    <div class="col-sm-4">
      <form [formGroup]="formContacto" (ngSubmit)="onSubmit()">
        <p>
          Nombre: 
          <input type="text" class="form-control" formControlName="nombre" />
          @if (enviado && formContacto.get('nombre')?.errors?.['required']) {
            <span style="color: red;">Este campo es obligatorio</span>
          }
          @if (enviado && formContacto.get('nombre')?.errors?.['minlength']) {
            <span style="color: red;">El nombre debe tener al menos 10 caracteres</span>
          }
        </p>
        <p>
          Correo: 
          <input type="email" class="form-control" formControlName="email" />
          @if (enviado && formContacto.get('email')?.errors?.['email']) {
            <span style="color: red;">El correo proporcionado no es válido</span>
          }
        </p>
        <p>
          ¿Es un cliente registrado?
          <input type="radio" formControlName="status" value="Si" /> Si
          <input type="radio" formControlName="status" value="No" /> No
          @if (enviado && formContacto.get('status')?.errors?.['required']) {
            <span style="color: red;">Este campo es obligatorio</span>
          }
        </p>
        <p>
          Municipio de Procedencia:
          <select class="form-control" formControlName="municipio">
            <option value="Amealco">Amealco</option>
            <option value="San Juan del Rio">San Juan del Rio</option>
            <option value="Tequisquiapan">Tequisquiapan</option>
          </select>
          @if (enviado && formContacto.get('municipio')?.errors?.['required']) {
            <span style="color: red;">Este campo es obligatorio</span>
          }
        </p>
        <p>
          Opinión:
          <textarea class="form-control" rows="10" cols="70" formControlName="opinion"></textarea>
          @if (enviado && formContacto.get('opinion')?.errors?.['required']) {
            <span style="color: red;">Este campo es obligatorio</span>
          }
          @if (enviado && formContacto.get('opinion')?.errors?.['maxlength']) {
            <span style="color: red;">Solo se permiten 500 caracteres</span>
          }
        </p>
        <p>
          <input type="checkbox" formControlName="autorizacion" />
          ¿Desea compartir sus datos personales?
        </p>

        <p>
          <button type="submit" class="btn btn-primary">Enviar</button>
        </p>
      </form>
    </div>

    <div>
      @if (nombreCliente != '' && emailCliente != '' && statusCliente != '' && municipioCliente != '' && opinionCliente != '') {
        <h6>Datos Enviados</h6>
        Nombre: {{ nombreCliente }} <br />
        Correo: {{ emailCliente }} <br />
        Cliente registrado: {{ statusCliente }} <br />
        Municipio de Procedencia: {{ municipioCliente }} <br />
        @if (autorizacionCliente) {
          El cliente autoriza compartir sus datos personales <br />
        } @else {
          El cliente no autoriza compartir sus datos personales <br />
        }
        Opinión: {{ opinionCliente }}
      }
    </div>
  </div>
</main>

<router-outlet></router-outlet>
